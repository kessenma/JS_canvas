<!-- Worked with Aaron Cheng on this assignment -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Canvas Example</title>
  <style type="text/css">
    canvas{
      border: 1px solid black;
    }
  </style>


</head>
<body>
  <canvas id="canvas" width="500" height="500">
  An alternative text describing what your canvas displays. 
</canvas>

<button onclick="clearcanvas1()">clear</button>

<script>

  // Red Circle
  var canvas = document.querySelector('canvas');
  var ctx = canvas.getContext('2d');
  var x = 0
  var y = 0
  var color = "red"
  var radius = 20;


function draw(){
  ctx.beginPath();
  ctx.fillStyle = color;
  ctx.arc(x,y, radius,0,2*Math.PI);
  ctx.fill();

}

// got this code from: https://stackoverflow.com questions/21043161/clear-canvas-button :
function clearcanvas1(){
ctx.clearRect(0, 0, canvas.width, canvas.height); 
var w = canvas.width; canvas.width = 1; canvas.width = w; 
}


  window.addEventListener('mousemove', function (e) {
    // console.log(e.pageX);
    // console.log(e.pageY);
    x = e.pageX
    y = e.pageY
    draw()
  })

  window.addEventListener('keydown', function (k) {
  if(k.keyCode == 66){
    color = "blue";
  }
  if(k.keyCode == 89){
    color ="yellow"
  }
  })

// Draw something when a touch start is detected
    function sketchpad_touchStart() {
        // Update the touch co-ordinates
        getTouchPos();

        drawDot(ctx,touchX,touchY,12);

        // Prevents an additional mousedown event being triggered
        event.preventDefault();
    }

    // Draw something and prevent the default scrolling when touch movement is detected
    function sketchpad_touchMove(e) { 
        // Update the touch co-ordinates
        getTouchPos(e);

        // During a touchmove event, unlike a mousemove event, we don't need to check if the touch is engaged, since there will always be contact with the screen by definition.
        drawDot(ctx,touchX,touchY,12); 

        // Prevent a scrolling action as a result of this touchmove triggering.
        event.preventDefault();
    }

    // Get the touch position relative to the top-left of the canvas
    // When we get the raw values of pageX and pageY below, they take into account the scrolling on the page
    // but not the position relative to our target div. We'll adjust them using "target.offsetLeft" and
    // "target.offsetTop" to get the correct values in relation to the top left of the canvas.
    function getTouchPos(e) {
        if (!e)
            var e = event;

        if(e.touches) {
            if (e.touches.length == 1) { // Only deal with one finger
                var touch = e.touches[0]; // Get the information for finger #1
                touchX=touch.pageX-touch.target.offsetLeft;
                touchY=touch.pageY-touch.target.offsetTop;
            }
        }
    }


    // Set-up the canvas and add our event handlers after the page has loaded
    function init() {
        // Get the specific canvas element from the HTML document
        canvas = document.getElementById('sketchpad');

        // If the browser supports the canvas tag, get the 2d drawing context for this canvas
        if (canvas.getContext)
            ctx = canvas.getContext('2d');

        // Check that we have a valid context to draw on/with before adding event handlers
        if (ctx) {
            // React to mouse events on the canvas, and mouseup on the entire document
            canvas.addEventListener('mousedown', sketchpad_mouseDown, false);
            canvas.addEventListener('mousemove', sketchpad_mouseMove, false);
            window.addEventListener('mouseup', sketchpad_mouseUp, false);

            // React to touch events on the canvas
            canvas.addEventListener('touchstart', sketchpad_touchStart, false);
            canvas.addEventListener('touchmove', sketchpad_touchMove, false);
        }
    }

</script>
</body>
</html>