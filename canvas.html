<!-- Worked with Aaron Cheng on this assignment -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Canvas Example</title>
  <style type="text/css">
    canvas{
      border: 1px solid black;
    }
  </style>


</head>
<body>
  <canvas id="canvas" width="500" height="500">
  An alternative text describing what your canvas displays. 
</canvas>

<button onclick="clearcanvas1()">clear</button>

<script>

  // Red Circle
  var canvas = document.querySelector('canvas');
  var ctx = canvas.getContext('2d');
  var x = 0
  var y = 0
  var color = "red"
  var radius = 20;


function draw(){
  ctx.beginPath();
  ctx.fillStyle = color;
  ctx.arc(x,y, radius,0,2*Math.PI);
  ctx.fill();

}

// got this code from: https://stackoverflow.com questions/21043161/clear-canvas-button :
function clearcanvas1(){
ctx.clearRect(0, 0, canvas.width, canvas.height); 
var w = canvas.width; canvas.width = 1; canvas.width = w; 
}


  window.addEventListener('mousemove', function (e) {
    // console.log(e.pageX);
    // console.log(e.pageY);
    x = e.pageX
    y = e.pageY
    draw()
  })

  window.addEventListener('keydown', function (k) {
  if(k.keyCode == 66){
    color = "blue";
  }
  if(k.keyCode == 89){
    color ="yellow"
  }
  })

// Set up touch events for mobile, etc
canvas.addEventListener("touchstart", function (e) {
        mousePos = getTouchPos(canvas, e);
  var touch = e.touches[0];
  var mouseEvent = new MouseEvent("mousedown", {
    clientX: touch.clientX,
    clientY: touch.clientY
  });
  canvas.dispatchEvent(mouseEvent);
}, false);
canvas.addEventListener("touchend", function (e) {
  var mouseEvent = new MouseEvent("mouseup", {});
  canvas.dispatchEvent(mouseEvent);
}, false);
canvas.addEventListener("touchmove", function (e) {
  var touch = e.touches[0];
  var mouseEvent = new MouseEvent("mousemove", {
    clientX: touch.clientX,
    clientY: touch.clientY
  });
  canvas.dispatchEvent(mouseEvent);
}, false);

// Get the position of a touch relative to the canvas
function getTouchPos(canvasDom, touchEvent) {
  var rect = canvasDom.getBoundingClientRect();
  return {
    x: touchEvent.touches[0].clientX - rect.left,
    y: touchEvent.touches[0].clientY - rect.top
  };
}

// Prevent scrolling when touching the canvas
document.body.addEventListener("touchstart", function (e) {
  if (e.target == canvas) {
    e.preventDefault();
  }
}, false);
document.body.addEventListener("touchend", function (e) {
  if (e.target == canvas) {
    e.preventDefault();
  }
}, false);
document.body.addEventListener("touchmove", function (e) {
  if (e.target == canvas) {
    e.preventDefault();
  }
}, false);

</script>
</body>
</html>